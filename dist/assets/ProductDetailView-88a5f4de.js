import{_ as U}from"./BaseButton-3a92bdba.js";import{f as G,N as $,h as X,r as B,y as Y,H as W,o as T,c as k,a as s,b as D,w as I,F as A,G as N,l as d,k as q,K as M,e as f,a4 as Z,a5 as J,p as Q,m as w}from"./index-b738461e.js";import{u as L}from"./formatNumber-a2d8cd5e.js";import{g as ee,i as te,e as oe,n as R,b as j,P as ne,N as se,S as K,a as F}from"./navigation.min-99063250.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";function re({swiper:e,extendParams:v,on:p}){v({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let _=!1,S=!1;e.thumbs={swiper:null};function t(){const o=e.thumbs.swiper;if(!o||o.destroyed)return;const n=o.clickedIndex,r=o.clickedSlide;if(r&&r.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof n>"u"||n===null)return;let a;o.params.loop?a=parseInt(o.clickedSlide.getAttribute("data-swiper-slide-index"),10):a=n,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function m(){const{thumbs:o}=e.params;if(_)return!1;_=!0;const n=e.constructor;if(o.swiper instanceof n)e.thumbs.swiper=o.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(te(o.swiper)){const r=Object.assign({},o.swiper);Object.assign(r,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new n(r),S=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",t),!0}function u(o){const n=e.thumbs.swiper;if(!n||n.destroyed)return;const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():n.params.slidesPerView;let a=1;const i=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),n.slides.forEach(l=>l.classList.remove(i)),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(let l=0;l<a;l+=1)oe(n.slidesEl,`[data-swiper-slide-index="${e.realIndex+l}"]`).forEach(h=>{h.classList.add(i)});else for(let l=0;l<a;l+=1)n.slides[e.realIndex+l]&&n.slides[e.realIndex+l].classList.add(i);const b=e.params.thumbs.autoScrollOffset,x=b&&!n.params.loop;if(e.realIndex!==n.realIndex||x){const l=n.activeIndex;let h,c;if(n.params.loop){const C=n.slides.filter(P=>P.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];h=n.slides.indexOf(C),c=e.activeIndex>e.previousIndex?"next":"prev"}else h=e.realIndex,c=h>e.previousIndex?"next":"prev";x&&(h+=c==="next"?b:-1*b),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(h)<0&&(n.params.centeredSlides?h>l?h=h-Math.floor(r/2)+1:h=h+Math.floor(r/2)-1:h>l&&n.params.slidesPerGroup,n.slideTo(h,o?0:void 0))}}p("beforeInit",()=>{const{thumbs:o}=e.params;if(!(!o||!o.swiper))if(typeof o.swiper=="string"||o.swiper instanceof HTMLElement){const n=ee(),r=()=>{const i=typeof o.swiper=="string"?n.querySelector(o.swiper):o.swiper;if(i&&i.swiper)o.swiper=i.swiper,m(),u(!0);else if(i){const b=x=>{o.swiper=x.detail[0],i.removeEventListener("init",b),m(),u(!0),o.swiper.update(),e.update()};i.addEventListener("init",b)}return i},a=()=>{if(e.destroyed)return;r()||requestAnimationFrame(a)};requestAnimationFrame(a)}else m(),u(!0)}),p("slideChange update resize observerUpdate",()=>{u()}),p("setTransition",(o,n)=>{const r=e.thumbs.swiper;!r||r.destroyed||r.setTransition(n)}),p("beforeDestroy",()=>{const o=e.thumbs.swiper;!o||o.destroyed||S&&o.destroy()}),Object.assign(e.thumbs,{init:m,update:u})}function ae({swiper:e,extendParams:v,emit:p,once:_}){v({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function S(){const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function t(){const{touchEventsData:u,touches:o}=e;u.velocities.length===0&&u.velocities.push({position:o[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:o[e.isHorizontal()?"currentX":"currentY"],time:R()})}function m({currentPos:u}){const{params:o,wrapperEl:n,rtlTranslate:r,snapGrid:a,touchEventsData:i}=e,x=R()-i.touchStartTime;if(u<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(u>-e.maxTranslate()){e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);return}if(o.freeMode.momentum){if(i.velocities.length>1){const g=i.velocities.pop(),y=i.velocities.pop(),H=g.position-y.position,V=g.time-y.time;e.velocity=H/V,e.velocity/=2,Math.abs(e.velocity)<o.freeMode.minimumVelocity&&(e.velocity=0),(V>150||R()-g.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=o.freeMode.momentumVelocityRatio,i.velocities.length=0;let l=1e3*o.freeMode.momentumRatio;const h=e.velocity*l;let c=e.translate+h;r&&(c=-c);let C=!1,P;const O=Math.abs(e.velocity)*20*o.freeMode.momentumBounceRatio;let E;if(c<e.maxTranslate())o.freeMode.momentumBounce?(c+e.maxTranslate()<-O&&(c=e.maxTranslate()-O),P=e.maxTranslate(),C=!0,i.allowMomentumBounce=!0):c=e.maxTranslate(),o.loop&&o.centeredSlides&&(E=!0);else if(c>e.minTranslate())o.freeMode.momentumBounce?(c-e.minTranslate()>O&&(c=e.minTranslate()+O),P=e.minTranslate(),C=!0,i.allowMomentumBounce=!0):c=e.minTranslate(),o.loop&&o.centeredSlides&&(E=!0);else if(o.freeMode.sticky){let g;for(let y=0;y<a.length;y+=1)if(a[y]>-c){g=y;break}Math.abs(a[g]-c)<Math.abs(a[g-1]-c)||e.swipeDirection==="next"?c=a[g]:c=a[g-1],c=-c}if(E&&_("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(r?l=Math.abs((-c-e.translate)/e.velocity):l=Math.abs((c-e.translate)/e.velocity),o.freeMode.sticky){const g=Math.abs((r?-c:c)-e.translate),y=e.slidesSizesGrid[e.activeIndex];g<y?l=o.speed:g<2*y?l=o.speed*1.5:l=o.speed*2.5}}else if(o.freeMode.sticky){e.slideToClosest();return}o.freeMode.momentumBounce&&C?(e.updateProgress(P),e.setTransition(l),e.setTranslate(c),e.transitionStart(!0,e.swipeDirection),e.animating=!0,j(n,()=>{!e||e.destroyed||!i.allowMomentumBounce||(p("momentumBounce"),e.setTransition(o.speed),setTimeout(()=>{e.setTranslate(P),j(n,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(p("_freeModeNoMomentumRelease"),e.updateProgress(c),e.setTransition(l),e.setTranslate(c),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,j(n,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(c),e.updateActiveIndex(),e.updateSlidesClasses()}else if(o.freeMode.sticky){e.slideToClosest();return}else o.freeMode&&p("_freeModeNoMomentumRelease");(!o.freeMode.momentum||x>=o.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:S,onTouchMove:t,onTouchEnd:m}})}function le(){const e=t=>({battery:t.battery,brand:t.brand,categoryId:t.categoryId,color:t.color,cpuModel:t.cpuModel,cpuSeries:t.cpuSeries,description:t.description,shortDescription:t.shortDescription,featured:t.featured,imageList:t.imageList,keyboardModel:t.keyboardModel,laptopConnectionPort:t.laptopConnectionPort,laptopMaxNumberOfStoragePorts:t.laptopMaxNumberOfStoragePorts,laptopOperatingSystem:t.laptopConnectionPort,laptopOutputPort:t.laptopOutputPort,laptopSeries:t.laptopSeries,laptopStorage:t.laptopStorage,latestPrice:t.latestPrice,monitorModel:t.monitorModel,monitorSize:t.monitorSize,name:t.productName,categoryName:t.categoryName,productId:t.productId,quantity:t.quantity,ramModel:t.ramModel,retailPrice:t.retailPrice,sizeDescription:t.sizeDescription,vgaModel:t.vgaModel,warranty:t.warranty,weight:t.weight}),v=t=>({brand:t.brand,categoryId:t.categoryId,categoryName:t.categoryName,description:t.description,featured:t.featured,imageList:t.imageList,latestPrice:t.latestPrice,monitorBrightness:t.monitorBrightness,monitorPanel:t.monitorPanel,monitorRefreshRate:t.monitorRefreshRate,monitorResolution:t.monitorResolution,monitorResponseTime:t.monitorResponseTime,monitorSize:t.monitorSize,monitorType:t.monitorType,name:t.productName,productId:t.productId,quantity:t.quantity,retailPrice:t.retailPrice,shortDescription:t.shortDescription,sizeDescription:t.sizeDescription,warranty:t.warranty,weight:t.weight}),p=t=>{const m=["brand","color","battery","laptopSeries","cpuSeries","cpuModel","ramModel","vgaModel","monitorSize","monitorModel","laptopStorage","sizeDescription","keyboardModel","laptopConnectionPort","laptopMaxNumberOfStoragePorts","laptopOperatingSystem","laptopOutputPort","warranty","weight"],u={brand:"Thương hiệu",color:"Màu sắc",battery:"Pin",laptopSeries:"Series Laptop",cpuSeries:"Series CPU",cpuModel:"CPU",ramModel:"RAM",vgaModel:"Chip đồ họa",monitorSize:"Kích thước màn hình",monitorModel:"Màn hình",laptopStorage:"Lưu trữ",sizeDescription:"Mô tả kích thước",keyboardModel:"Bàn phím",laptopConnectionPort:"Cổng kết nối",laptopMaxNumberOfStoragePorts:"Số cổng lưu trữ tối đa",laptopOperatingSystem:"Hệ điều hành",laptopOutputPort:"Cổng xuất hình",warranty:"Bảo hành",weight:"Khối lượng"},o=Object.fromEntries(Object.entries(t).filter(([n])=>m.includes(n)));return Object.keys(o).reduce((n,r)=>{const a=u[r]||r;return n[a]=o[r],n},{})},_=t=>{const m=["brand","color","monitorBrightness","monitorPanel","monitorRefreshRate","monitorResolution","monitorResponseTime","monitorSize","monitorType","sizeDescription","warranty","weight"];console.log(Object.fromEntries(Object.entries(t).filter(([n])=>m.includes(n))));const u={brand:"Thương hiệu",color:"Màu sắc",monitorBrightness:"Độ sáng",monitorPanel:"Tấm nền",monitorRefreshRate:"Tần số quét",monitorResolution:"Độ phân giải",monitorResponseTime:"Thời gian phản hồi",monitorSize:"Kích thước màn hình",monitorType:"Loại màn hình",sizeDescription:"Mô tả kích thước",warranty:"Bảo hành",weight:"Khối lượng"},o=Object.fromEntries(Object.entries(t).filter(([n])=>m.includes(n)));return Object.keys(o).reduce((n,r)=>{const a=u[r]||r;return n[a]=o[r],n},{})};return{mapToLaptop:e,mapToMonitor:v,mapToMonitorAttribute:_,mapToLaptopAttribute:p,convertProductDetail:t=>{let m={};t.categoryName==="Laptop"?m=p(t):t.categoryName==="Màn hình"&&(m=_(t));const o=Object.entries(m).map(([n,r])=>({attribute:n,value:r}));return{categoryId:t.categoryId,productName:t.productName,categoryName:t.categoryName,productId:t.productId,quantity:t.quantity,description:t.description,shortDescription:t.shortDescription,imageList:t.imageList,latestPrice:t.latestPrice,retailPrice:t.retailPrice,sold:t.sold,status:t.status,discount:t.discount,attributes:o}}}}const z=e=>(Q("data-v-d1857779"),e=e(),w(),e),ce={class:"wrap-product-detail m-auto w-[1232px] max-w-[1232px] px-4 py-4"},ue={class:"product-detail"},me={class:"block-above mb-6 rounded-sm bg-white px-6 py-6"},de={class:"flex"},he={class:"product-gallery pr-6"},pe=["src"],fe=["src"],ge={class:"product-content"},be={class:"mb-2 text-2xl font-semibold"},ye={class:"mb-6 text-sm text-description"},ve={class:"text-secondary"},_e={class:"mb-2 text-sm text-[#f78212]"},xe={class:"text-xl font-bold text-secondary"},Se={class:"mr-1 text-xs text-description line-through"},Me={class:"text-xs text-secondary"},Te={class:"flex py-6"},Pe=z(()=>s("div",null,[f(" - CPU: Apple M2 "),s("br"),f(' - Màn hình: 13.3" IPS (2560 x 1600) '),s("br"),f(" - RAM: 1 x 16GB "),s("br"),f(" - Đồ họa: Onboard "),s("br"),f(" - Lưu trữ: 512GB SSD "),s("br"),f(" - Hệ điều hành: macOS "),s("br"),f(" - 58 Wh Pin liền "),s("br"),f(" - Khối lượng: 1.4kg ")],-1)),Ie={class:"block-below rounded-sm bg-white px-6 py-6"},ke={class:"flex justify-between"},Ce=z(()=>s("div",{class:"description max-w-[66%] flex-[0_0_66.67%]"},[s("h1",{class:"mb-4 text-xl font-bold"},"Mô tả sản phẩm"),s("div",null,[f(" Mô tả sản phẩm MacBook Pro 13 inch Z16S00034 của nhà Apple sở hữu một thiết kế thời thượng, sang trọng cùng với tính di động và gọn nhẹ. Máy được trang bị bộ vi xử lý độc quyền Apple M2 có hiệu năng hoạt động tối ưu, giúp xử lý tốt mọi tác vụ hàng ngày hay chỉnh sửa đồ họa. Không những thế, chiếc máy này còn đảm bảo đáp ứng đủ dải nhu cầu sử dụng từ cơ bản đến nâng cao hứa hẹn sẽ làm hài lòng đến mọi khách hàng. "),s("img",{alt:"",src:"https://storage.googleapis.com/teko-gae.appspot.com/media/image/2022/10/7/20221007_8f6f10e2-6d0d-4397-ab2e-91910e9422fc.png"}),f(" Thiết kế nhỏ gọn, thời thượng và có chất liệu vỏ kim loại cao cấp MacBook 13 inch sở hữu ngôn ngữ thiết kế đặc trưng của nhà Apple, thể hiện được sự thời thượng, tinh tế giúp làm tăng sự sang trọng hơn cho người sở hữu phù hợp cho mọi người dùng, đặc biệt là các doanh nhân. Với tính linh hoạt, nhỏ gọn chỉ với kích thước 30.41 x 21.24 x 1.56cm và trọng lượng khiêm tốn chỉ 1.4kg giúp bạn có thể mang chiếc MacBook này đến bất cứ nơi đâu. ")])],-1)),De={class:"attribute-detail flex-[0_0_33.33%] pl-6"},Oe=z(()=>s("h1",{class:"mb-4 text-xl font-bold"},"Thông tin chi tiết",-1)),Be={class:"flex w-full justify-between px-3 py-3"},Ee={class:"flex-[0_0_40%] text-sm font-medium"},Ae={class:"flex-[0_0_60%]"},Ne=G({__name:"ProductDetail",setup(e){const v=$(),p=X(),_=le();let S=null;const t=B([ae,ne,se,re]),m=B(!1),u=B({}),o=B({});Y(async()=>{await n()});const n=async()=>{try{m.value=!0;const i={productId:v.params.detail},b=await W.getProductDetailById(i);u.value=b.data,o.value=_.convertProductDetail(u.value),m.value=!1}catch(i){m.value=!1,console.log(i)}},r=async()=>{try{m.value=!0;const i={clientId:p.authUser.userId,productId:Number(v.params.detail)};(await Z.addProductToCart(i)).status===200&&J({type:"success",title:"Đã thêm sản phẩm vào giỏ hàng",duration:0}),m.value=!1}catch(i){console.log(i)}},a=i=>{S=i};return(i,b)=>{const x=U;return T(),k("div",ce,[s("div",ue,[s("div",me,[s("div",de,[s("div",he,[D(d(F),{modules:d(t),navigation:!0,spaceBetween:10,style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},thumbs:{swiper:d(S)},class:"mySwiper2"},{default:I(()=>[(T(!0),k(A,null,N(d(o).imageList,l=>(T(),q(d(K),{key:d(o).id},{default:I(()=>[s("img",{src:l,alt:""},null,8,pe)]),_:2},1024))),128))]),_:1},8,["modules","thumbs"]),D(d(F),{freeMode:!0,modules:d(t),slidesPerView:4,spaceBetween:10,watchSlidesProgress:!0,class:"mySwiper",onSwiper:a},{default:I(()=>[(T(!0),k(A,null,N(d(u).imageList,l=>(T(),q(d(K),{key:d(o).id},{default:I(()=>[s("img",{src:l,alt:""},null,8,fe)]),_:2},1024))),128))]),_:1},8,["modules"])]),s("div",ge,[s("div",be,M(d(o).productName),1),s("div",ye,[f(" Thương hiệu "),s("span",ve,M(d(o).brand),1)]),s("div",_e,"Còn "+M(d(o).quantity)+" sản phẩm",1),s("span",xe,M(d(L)(d(o).latestPrice))+"₫",1),s("div",null,[s("span",Se,M(d(L)(d(o).retailPrice))+"₫",1),s("span",Me,"-"+M(d(L)(d(o).discount))+"%",1)]),s("div",Te,[D(x,{class:"mr-2 w-full"},{default:I(()=>[f("Mua ngay")]),_:1}),D(x,{class:"w-full",type:"plain",onClick:r},{default:I(()=>[f("Thêm vào giỏ hàng")]),_:1})]),Pe])])]),s("div",Ie,[s("div",ke,[Ce,s("div",De,[Oe,(T(!0),k(A,null,N(d(o).attributes,(l,h)=>(T(),k("div",{key:h,class:"flex w-full justify-between odd:bg-white even:bg-slate-50"},[s("div",Be,[s("div",Ee,M(l.attribute),1),s("div",Ae,M(l.value),1)])]))),128))])])])])])}}});const Le=ie(Ne,[["__scopeId","data-v-d1857779"]]),Ke=G({__name:"ProductDetailView",setup(e){return(v,p)=>(T(),k("div",null,[D(Le)]))}});export{Ke as default};
