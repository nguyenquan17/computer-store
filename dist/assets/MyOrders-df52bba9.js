import{_ as T}from"./BaseTable.vue_vue_type_script_setup_true_lang-84a05ae3.js";import{_ as O,a as B}from"./PopupPaymentDetail.vue_vue_type_script_setup_true_lang-28c42d6c.js";import{f as A,g as D,h as L,r as c,z,ad as R,j as g,o as m,c as h,b as s,w as a,l,a as t,t as i,P as b,U as V,e as x,af as $}from"./index-5ca1291a.js";import{u as I}from"./formatDateHourMs-9ef51183.js";import{u as M}from"./formatNumber-0d110035.js";import{B as j}from"./BaseButton-33246e43.js";import"./EmptyBlock.vue_vue_type_script_setup_true_lang-d633231f.js";import"./BaseIcon-aa053859.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./BasePopup.vue_vue_type_script_setup_true_lang-3db24631.js";const E={class:"px-4 py-4"},F={key:0},H={class:"mb-4"},U=t("h1",{class:"mb-4 text-base font-bold"},"Thông tin nhận hàng",-1),Q={class:"flex w-full text-sm font-medium"},q=t("h1",{class:"mr-1 flex-[0_0_12%]"},"Họ và tên:",-1),G={class:"flex w-full text-sm font-medium"},J=t("h1",{class:"mr-1 flex-[0_0_12%]"},"Số điện thoại:",-1),K={class:"flex w-full text-sm font-medium"},W=t("h1",{class:"mr-1 flex-[0_0_12%]"},"Địa chỉ nhận hàng:",-1),X={class:"mb-4"},Y=t("h1",{class:"mb-4 text-base font-bold"},"Thông tin đơn hàng",-1),Z={class:"flex items-center"},tt=["src"],et={class:"ml-4"},st={class:"text-sm font-medium"},ot=t("div",{class:"mb-4"},[t("h1",{class:"mb-4 text-base font-bold"},"Thông tin thanh toán"),t("div",{class:"flex w-full items-center text-sm font-medium"},[t("h1",{class:"mr-1 flex-[0_0_20%]"},"Phương thức thanh toán:"),t("div",{class:"flex items-center"},[t("img",{alt:"",height:"50",src:B,width:"100"})])])],-1),at={key:0},nt=["onClick"],gt=A({__name:"MyOrders",setup(lt){const w=D(),v=L(),_=c([]),d=c(!1);c(0);const u=c({});z(async()=>{await y()});const y=async()=>{try{d.value=!0;const e={page:0,size:1e3,orderStatus:"",userId:v.user.userId},f=await R.getListOrderClient(e);_.value=f.data,d.value=!1}catch(e){d.value=!1,console.log(e)}},C=e=>e===0?"Đã hủy":e===1?"Chờ thanh toán":"Thành công",k=e=>e===0?"bg-[#fde2e2] rounded border-solid border-[1px] border-[#f89898] text-[#c45656] w-[110px] m-auto":e===1?"bg-[#f8e3c5] rounded border-solid border-[1px] border-[#E6A23C] text-[#b88230] w-[110px] m-auto":"bg-[#d1edc4] rounded border-solid border-[1px] border-[#67C23A] text-[#529b2e] w-[110px] m-auto",S=e=>{u.value=e,w.setOpenPopup(!0,"popup-payment-detail")},P=e=>{window.open(e,"_blank")};return(e,f)=>{const n=g("el-table-column"),p=T,N=g("el-icon");return m(),h("div",E,[s(p,{data:l(_),loading:l(d),showPagination:!1,style:{width:"100%"},onRowClick:e.handleClickRow},{default:a(()=>[s(n,{type:"expand"},{default:a(o=>[l(d)?b("",!0):(m(),h("div",F,[t("div",H,[U,t("div",Q,[q,t("div",null,i(o.row.detail.consigneeName),1)]),t("div",G,[J,t("span",null,i(o.row.detail.consigneePhoneNumber),1)]),t("div",K,[W,t("div",null,i(o.row.detail.deliveryAddress),1)])]),t("div",X,[Y,s(p,{data:o.row.detail.orderItemDetailList,loading:!1,showPagination:!1,label:"sản phẩm"},{default:a(()=>[s(n,{index:1,align:"center",label:"#",type:"index",width:"80"}),s(n,{align:"left",label:"Tên sản phẩm",prop:"name"},{default:a(r=>[t("div",Z,[t("img",{src:r.row.imageList[0],alt:"",height:"60",width:"60"},null,8,tt),t("p",et,i(r.row.productName),1)])]),_:1}),s(n,{align:"right",label:"Số lượng",prop:"itemQuantity",width:"150"}),s(n,{align:"right",label:"Đơn giá",prop:"itemPrice",width:"150"},{default:a(r=>[t("div",st,i(l(M)(r.row.itemPrice))+"đ",1)]),_:1})]),_:2},1032,["data"])]),ot]))]),_:1}),s(n,{label:"Ngày đặt",prop:"createAt"},{default:a(o=>[t("div",null,i(l(I)(o.row.createAt)),1)]),_:1}),s(n,{align:"center",label:"Trạng thái",prop:"status"},{default:a(o=>[t("div",{class:V([k(o.row.status),"h-full py-1 px-2 text-xs font-medium"])},i(C(o.row.status)),3)]),_:1}),s(n,{align:"center",label:"",prop:""},{default:a(o=>[o.row.status===1?(m(),h("div",at,[s(j,{class:"!h-[33px] w-[180px] text-sm",size:"small",onClick:r=>P(o.row.checkoutSessionUrl)},{default:a(()=>[x("Thanh toán ngay ")]),_:2},1032,["onClick"])])):b("",!0)]),_:1}),s(n,{align:"right",label:"",prop:""},{default:a(o=>[t("div",{class:"flex items-center justify-end text-right text-sm font-medium",onClick:r=>S(o.row)},[x(" Chi tiết "),s(N,null,{default:a(()=>[s(l($))]),_:1})],8,nt)]),_:1})]),_:1},8,["data","loading","onRowClick"]),s(O,{"row-data":l(u)},null,8,["row-data"])])}}});export{gt as default};
