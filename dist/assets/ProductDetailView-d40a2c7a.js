import{_ as U}from"./BaseButton-5e92c961.js";import{f as q,P as $,h as K,r as D,y as X,I as Y,o as k,c as B,a as l,b as C,w as M,G as R,H as j,l as d,k as F,L as P,e as g,d as W,ae as Z,af as J,p as Q,m as w}from"./index-65c6b856.js";import{u as V}from"./formatNumber-a2d8cd5e.js";import{g as ee,i as te,e as se,n as L,b as O,P as ne,N as ae,S as z,a as G}from"./navigation.min-eed5ac3f.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";function ie({swiper:e,extendParams:_,on:f}){_({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let x=!1,y=!1;e.thumbs={swiper:null};function p(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const s=t.clickedIndex,n=t.clickedSlide;if(n&&n.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof s>"u"||s===null)return;let o;t.params.loop?o=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):o=s,e.params.loop?e.slideToLoop(o):e.slideTo(o)}function r(){const{thumbs:t}=e.params;if(x)return!1;x=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(te(t.swiper)){const n=Object.assign({},t.swiper);Object.assign(n,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(n),y=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",p),!0}function u(t){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const n=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView;let o=1;const i=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(o=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(o=1),o=Math.floor(o),s.slides.forEach(c=>c.classList.remove(i)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let c=0;c<o;c+=1)se(s.slidesEl,`[data-swiper-slide-index="${e.realIndex+c}"]`).forEach(m=>{m.classList.add(i)});else for(let c=0;c<o;c+=1)s.slides[e.realIndex+c]&&s.slides[e.realIndex+c].classList.add(i);const b=e.params.thumbs.autoScrollOffset,T=b&&!s.params.loop;if(e.realIndex!==s.realIndex||T){const c=s.activeIndex;let m,a;if(s.params.loop){const I=s.slides.filter(S=>S.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];m=s.slides.indexOf(I),a=e.activeIndex>e.previousIndex?"next":"prev"}else m=e.realIndex,a=m>e.previousIndex?"next":"prev";T&&(m+=a==="next"?b:-1*b),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(m)<0&&(s.params.centeredSlides?m>c?m=m-Math.floor(n/2)+1:m=m+Math.floor(n/2)-1:m>c&&s.params.slidesPerGroup,s.slideTo(m,t?0:void 0))}}f("beforeInit",()=>{const{thumbs:t}=e.params;if(!(!t||!t.swiper))if(typeof t.swiper=="string"||t.swiper instanceof HTMLElement){const s=ee(),n=()=>{const i=typeof t.swiper=="string"?s.querySelector(t.swiper):t.swiper;if(i&&i.swiper)t.swiper=i.swiper,r(),u(!0);else if(i){const b=T=>{t.swiper=T.detail[0],i.removeEventListener("init",b),r(),u(!0),t.swiper.update(),e.update()};i.addEventListener("init",b)}return i},o=()=>{if(e.destroyed)return;n()||requestAnimationFrame(o)};requestAnimationFrame(o)}else r(),u(!0)}),f("slideChange update resize observerUpdate",()=>{u()}),f("setTransition",(t,s)=>{const n=e.thumbs.swiper;!n||n.destroyed||n.setTransition(s)}),f("beforeDestroy",()=>{const t=e.thumbs.swiper;!t||t.destroyed||y&&t.destroy()}),Object.assign(e.thumbs,{init:r,update:u})}function le({swiper:e,extendParams:_,emit:f,once:x}){_({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function y(){const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function p(){const{touchEventsData:u,touches:t}=e;u.velocities.length===0&&u.velocities.push({position:t[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:t[e.isHorizontal()?"currentX":"currentY"],time:L()})}function r({currentPos:u}){const{params:t,wrapperEl:s,rtlTranslate:n,snapGrid:o,touchEventsData:i}=e,T=L()-i.touchStartTime;if(u<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(u>-e.maxTranslate()){e.slides.length<o.length?e.slideTo(o.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(i.velocities.length>1){const h=i.velocities.pop(),v=i.velocities.pop(),H=h.position-v.position,N=h.time-v.time;e.velocity=H/N,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(N>150||L()-h.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,i.velocities.length=0;let c=1e3*t.freeMode.momentumRatio;const m=e.velocity*c;let a=e.translate+m;n&&(a=-a);let I=!1,S;const E=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let A;if(a<e.maxTranslate())t.freeMode.momentumBounce?(a+e.maxTranslate()<-E&&(a=e.maxTranslate()-E),S=e.maxTranslate(),I=!0,i.allowMomentumBounce=!0):a=e.maxTranslate(),t.loop&&t.centeredSlides&&(A=!0);else if(a>e.minTranslate())t.freeMode.momentumBounce?(a-e.minTranslate()>E&&(a=e.minTranslate()+E),S=e.minTranslate(),I=!0,i.allowMomentumBounce=!0):a=e.minTranslate(),t.loop&&t.centeredSlides&&(A=!0);else if(t.freeMode.sticky){let h;for(let v=0;v<o.length;v+=1)if(o[v]>-a){h=v;break}Math.abs(o[h]-a)<Math.abs(o[h-1]-a)||e.swipeDirection==="next"?a=o[h]:a=o[h-1],a=-a}if(A&&x("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(n?c=Math.abs((-a-e.translate)/e.velocity):c=Math.abs((a-e.translate)/e.velocity),t.freeMode.sticky){const h=Math.abs((n?-a:a)-e.translate),v=e.slidesSizesGrid[e.activeIndex];h<v?c=t.speed:h<2*v?c=t.speed*1.5:c=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&I?(e.updateProgress(S),e.setTransition(c),e.setTranslate(a),e.transitionStart(!0,e.swipeDirection),e.animating=!0,O(s,()=>{!e||e.destroyed||!i.allowMomentumBounce||(f("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(S),O(s,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(a),e.setTransition(c),e.setTranslate(a),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,O(s,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(a),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&f("_freeModeNoMomentumRelease");(!t.freeMode.momentum||T>=t.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:y,onTouchMove:p,onTouchEnd:r}})}const ce=e=>(Q("data-v-7e13cd72"),e=e(),w(),e),de={class:"wrap-product-detail m-auto w-[1232px] max-w-[1232px] px-4 py-4"},re={class:"product-detail"},ue={class:"block-above mb-6 rounded-sm bg-white px-6 py-6"},me={class:"flex"},he={class:"product-gallery pr-6"},fe=["src"],be=["src"],ge={class:"product-content"},ve={class:"mb-2 text-2xl font-semibold"},pe={class:"mb-6 text-sm text-description"},_e={class:"text-secondary"},xe={class:"mb-2 text-sm text-[#f78212]"},ye={class:"text-xl font-bold text-secondary"},Te={class:"mr-1 text-xs text-description line-through"},Se={class:"text-xs text-secondary"},Me={class:"flex py-6"},Pe=ce(()=>l("div",null,[g(" - CPU: Apple M2 "),l("br"),g(' - Màn hình: 13.3" IPS (2560 x 1600) '),l("br"),g(" - RAM: 1 x 16GB "),l("br"),g(" - Đồ họa: Onboard "),l("br"),g(" - Lưu trữ: 512GB SSD "),l("br"),g(" - Hệ điều hành: macOS "),l("br"),g(" - 58 Wh Pin liền "),l("br"),g(" - Khối lượng: 1.4kg ")],-1)),ke=W('<div class="block-below rounded-sm bg-white px-6 py-6" data-v-7e13cd72><div class="flex" data-v-7e13cd72><div class="description max-w-[66%] flex-[0_0_66%]" data-v-7e13cd72> Mô tả sản phẩm MacBook Pro 13 inch Z16S00034 của nhà Apple sở hữu một thiết kế thời thượng, sang trọng cùng với tính di động và gọn nhẹ. Máy được trang bị bộ vi xử lý độc quyền Apple M2 có hiệu năng hoạt động tối ưu, giúp xử lý tốt mọi tác vụ hàng ngày hay chỉnh sửa đồ họa. Không những thế, chiếc máy này còn đảm bảo đáp ứng đủ dải nhu cầu sử dụng từ cơ bản đến nâng cao hứa hẹn sẽ làm hài lòng đến mọi khách hàng. <img alt="" src="https://storage.googleapis.com/teko-gae.appspot.com/media/image/2022/10/7/20221007_8f6f10e2-6d0d-4397-ab2e-91910e9422fc.png" data-v-7e13cd72> Thiết kế nhỏ gọn, thời thượng và có chất liệu vỏ kim loại cao cấp MacBook 13 inch sở hữu ngôn ngữ thiết kế đặc trưng của nhà Apple, thể hiện được sự thời thượng, tinh tế giúp làm tăng sự sang trọng hơn cho người sở hữu phù hợp cho mọi người dùng, đặc biệt là các doanh nhân. Với tính linh hoạt, nhỏ gọn chỉ với kích thước 30.41 x 21.24 x 1.56cm và trọng lượng khiêm tốn chỉ 1.4kg giúp bạn có thể mang chiếc MacBook này đến bất cứ nơi đâu. </div><div class="attribute-detail" data-v-7e13cd72></div></div></div>',1),Ie=q({__name:"ProductDetail",setup(e){const _=$(),f=K();let x=null;const y=D([le,ne,ae,ie]),p=D(!1),r=D({});X(async()=>{await u()});const u=async()=>{try{p.value=!0;const n={productId:_.params.detail},o=await Y.getProductDetailById(n);r.value=o.data,p.value=!1}catch(n){p.value=!1,console.log(n)}},t=async()=>{try{p.value=!0;const n={clientId:f.authUser.userId,productId:Number(_.params.detail)};(await Z.addProductToCart(n)).status===200&&J({type:"success",title:"Đã thêm sản phẩm vào giỏ hàng",duration:0}),p.value=!1}catch(n){console.log(n)}},s=n=>{x=n};return(n,o)=>{const i=U;return k(),B("div",de,[l("div",re,[l("div",ue,[l("div",me,[l("div",he,[C(d(G),{modules:d(y),navigation:!0,spaceBetween:10,style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},thumbs:{swiper:d(x)},class:"mySwiper2"},{default:M(()=>[(k(!0),B(R,null,j(d(r).imageList,b=>(k(),F(d(z),{key:d(r).id},{default:M(()=>[l("img",{src:b,alt:""},null,8,fe)]),_:2},1024))),128))]),_:1},8,["modules","thumbs"]),C(d(G),{freeMode:!0,modules:d(y),slidesPerView:4,spaceBetween:10,watchSlidesProgress:!0,class:"mySwiper",onSwiper:s},{default:M(()=>[(k(!0),B(R,null,j(d(r).imageList,b=>(k(),F(d(z),{key:d(r).id},{default:M(()=>[l("img",{src:b,alt:""},null,8,be)]),_:2},1024))),128))]),_:1},8,["modules"])]),l("div",ge,[l("div",ve,P(d(r).productName),1),l("div",pe,[g(" Thương hiệu "),l("span",_e,P(d(r).brand),1)]),l("div",xe,"Còn "+P(d(r).quantity)+" sản phẩm",1),l("span",ye,P(d(V)(d(r).latestPrice))+"₫",1),l("div",null,[l("span",Te,P(d(V)(d(r).retailPrice))+"₫",1),l("span",Se,"-"+P(d(V)(d(r).discount))+"%",1)]),l("div",Me,[C(i,{class:"mr-2 w-full"},{default:M(()=>[g("Mua ngay")]),_:1}),C(i,{class:"w-full",type:"plain",onClick:t},{default:M(()=>[g("Thêm vào giỏ hàng")]),_:1})]),Pe])])]),ke])])}}});const Ce=oe(Ie,[["__scopeId","data-v-7e13cd72"]]),Le=q({__name:"ProductDetailView",setup(e){return(_,f)=>(k(),B("div",null,[C(Ce)]))}});export{Le as default};
