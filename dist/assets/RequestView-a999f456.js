import{_ as ee,d as te,u as T,e as ae,a as oe,b as N,c as q}from"./formatNumberInput-43cf38af.js";import{a as le}from"./BaseIcon-b94d5d09.js";import{_ as se}from"./MoreToken.vue_vue_type_style_index_0_lang-d80bd2d8.js";import{u as V}from"./disableTime-86bbdf7c.js";import{d as E,o as D,y as U,w as u,j as b,b as o,a as n,t as _,i as e,z as ne,r as d,g as re,e as ue,K as ie,c as B,q as de,x as ce,l as me,F as pe,D as fe}from"./index-ecb8c6bc.js";import"./BaseButton-06f8f0de.js";const _e={class:""},be={class:""},he={class:"text-sm text-[#5B616E]"},ye=E({__name:"TransactionWithdrawTable",props:{dataTransactionWithdraw:{default:()=>[]},query:{default:()=>({})},isLoading:{type:Boolean,default:()=>!1}},emits:["page-change","limit-change","row-click"],setup(h,{emit:y}){const v=h,A=p=>(v.query.page-1)*v.query.limit+p+1,x=p=>{y("row-click",p)},k=p=>{switch(p){case"PENDING":return"w-[80px] h-[24px] bg-[#fff3e2] text-[#dd7d00] rounded my-0 mx-auto";case"REJECTED":return"w-[80px] h-[24px] bg-[#fbedee] text-[#cf202f] rounded my-0 mx-auto";default:return"w-[80px] h-[24px] bg-[#e4f9e2] text-[#129961] rounded my-0 mx-auto"}};return(p,i)=>{const f=b("el-table-column"),a=ee;return D(),U(a,{loading:h.isLoading,data:h.dataTransactionWithdraw,query:h.query,label:"requests",onLimitChange:i[0]||(i[0]=r=>y("limit-change",r)),onPageChange:i[1]||(i[1]=r=>y("page-change",r)),onRowClick:x},{default:u(()=>[o(f,{label:"#",type:"index",index:A,align:"center",width:"80"}),o(f,{label:"request date",align:"left"},{default:u(r=>[n("p",_e,_(e(te)(r.row.transactionMillisecond)),1)]),_:1}),o(f,{label:"name",prop:"fullName",align:"left"}),o(f,{label:"email",prop:"email",align:"left"}),o(f,{label:"status",prop:"status",align:"center"},{default:u(r=>[n("p",{class:ne(k(r.row.status))},_(r.row.status),3)]),_:1}),o(f,{label:"amount",prop:"payoutAmount",align:"right"},{default:u(r=>[n("p",be,_(e(T)(r.row.amountDisplay,r.row.currency))+" "+_(r.row.currency),1),n("p",he,"~$"+_(e(T)(r.row.amountToUsd,"USD")),1)]),_:1})]),_:1},8,["loading","data","query"])}}}),ve={class:"layout-balance shadow-md rounded bg-white"},xe={class:"flex justify-between p-6"},ge={class:"flex flex-col justify-between basis-[calc(25%-18px)] w-1/5 h-auto border border-solid border-[#dbdbdb] rounded-lg py-0 px-4"},we={class:"flex justify-between mt-1.5"},De=n("p",null,"Total Available",-1),Te={class:"w-full text-[24px] leading-[24px] mt-2 inline-block font-semibold"},Ae={class:"text-xs font-normal"},ke={class:"text-sm font-normal mt-2 mb-4"},Ce={class:"flex justify-between"},Re={class:"flex justify-between"},Se={class:"flex justify-between"},Ne=n("span",{class:"h-full text-base flex items-center text-[#0a0b0d]"},"$",-1),qe=n("span",{class:"h-full text-base flex items-center text-[#0a0b0d]"},"$",-1),Ve={class:"px-6"},$e=E({__name:"RequestView",setup(h){const y=ce(),v=me(),A=d([{id:31576,transactionType:"WITHDRAW",transactionDate:"2022-12-29T08:54:36.000+00:00",transactionDay:"2022-12-29",transactionMillisecond:1672304076365,currency:"LYNK",currencyName:"LynKey",network:"ERC20",networkName:"Ethereum",userId:4,fromAddress:"0xbbdcb6b53f1fd934bf6e6ff7da8648cc0a90b0f9",toAddress:"hshdhdhd",transactionHash:null,amount:2e3,amountDisplay:"-2,109.70 LYNK",transactionFee:109.7,amountToUsd:53.4176848406832,nonce:0,description:"",status:"PENDING",accountTransactionId:null,tokenUsdExchangeRate:.02532,createdAt:"2022-12-29T08:54:36.000+00:00",updatedAt:null,rejectedAt:null,rejectedReason:null,isLimitAmount:0,username:"huetransky@gmail.com",fullName:"Trần Thị Huế",email:"huetransky@gmail.com"}]),x=d({totalAmount:0,transactionType:"",totalAmountUsd:0}),k=d({}),p=d([{title:"MAGIC",value:"MAGIC"},{title:"ETH",value:"ETH"},{title:"BNB",value:"BNB"},{title:"USDT",value:"USDT"},{title:"BUSD",value:"BUSD"}]),i=d("MAGIC"),f=d([{title:"Request date",value:"1"},{title:"Amount",value:"2"},{title:"Status",value:"3"},{title:"Name",value:"4"}]),a=d({status:"",fromDate:"",toDate:"",fromAmount:"",toAmount:"",orderBy:"1",keywordString:""}),r=d([{title:"Pending",value:"PENDING"},{title:"Rejected",value:"REJECTED"}]),c=d({page:1,limit:10,total:0}),w=d(!1),L=re(()=>p.value),M=l=>{i.value=l.value,v.push({params:{currency:l.value}}),C(),m()},F=l=>{i.value=l,v.push({params:{currency:l}}),C(),m()};ue(()=>{i.value=y.params.currency,m()});const m=async()=>{try{w.value=!0;const l=await ie.getListWithDraw({...c.value,...a.value,currency:i.value});x.value=l.summaryRequest[0],c.value.total=l.transactions.totalElements,w.value=!1}catch{w.value=!1}},$=l=>{c.value.page=1,c.value.limit=l,m()},j=l=>{c.value.page=l,m()},I=l=>{k.value=l},Y=l=>{a.value.orderBy=l.value,m()},W=l=>{a.value.search=l,m()},K=()=>{c.value.page=1,m()},P=()=>{C(),m()},C=()=>{c.value={...c.value,page:1},a.value={...a.value,status:"",fromDate:"",toDate:"",fromAmount:"",toAmount:"",orderBy:"1",keywordString:""}};return(l,s)=>{const G=se,H=ae,z=le,J=b("el-option"),O=b("el-select"),g=b("el-form-item"),R=b("el-date-picker"),S=b("el-input"),Q=b("el-form"),X=oe;return D(),B("div",ve,[o(H,{"list-tab":e(L),"tab-active":e(i),onClick:M},{"more-tab":u(()=>[o(G,{onSelect:F})]),_:1},8,["list-tab","tab-active"]),n("div",xe,[n("div",ge,[n("div",we,[De,o(z,{icon:"request-icon-withdraw",size:"19",color:"#CF202F"})]),n("span",Te,[de(_(e(T)(e(x).totalAmount,e(i)))+" ",1),n("span",Ae,_(e(i)),1)]),n("p",ke,"$"+_(e(T)(e(x).totalAmountUsd,"USD")),1)])]),o(X,{"width-popper":"518","width-dropdown":"180","sort-active":e(a).orderBy,"list-sort":e(f),onSearch:W,onSort:Y,onReset:P,onApply:K,ref:"refFilter"},{filter:u(()=>[o(Q,{"label-position":"top"},{default:u(()=>[n("div",Ce,[o(g,{label:"Status",class:"flex-1"},{default:u(()=>[o(O,{modelValue:e(a).status,"onUpdate:modelValue":s[0]||(s[0]=t=>e(a).status=t),placeholder:"Status",clearable:"",teleported:!1,class:"w-full"},{default:u(()=>[(D(!0),B(pe,null,fe(e(r),(t,Z)=>(D(),U(J,{key:Z,label:t.title,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),n("div",Re,[o(g,{class:"flex-1 mr-10",label:"Request date"},{default:u(()=>[o(R,{modelValue:e(a).fromDate,"onUpdate:modelValue":s[1]||(s[1]=t=>e(a).fromDate=t),format:"MM/DD/YYYY","value-format":"x",placeholder:"From date",type:"date",teleported:!1,"disabled-date":t=>e(V)(t,"from",e(a).toDate)},null,8,["modelValue","disabled-date"])]),_:1}),o(g,{class:"flex-1 hide-label",label:"1"},{default:u(()=>[o(R,{modelValue:e(a).toDate,"onUpdate:modelValue":s[2]||(s[2]=t=>e(a).toDate=t),format:"MM/DD/YYYY","value-format":"x",placeholder:"To date",type:"date",teleported:!1,"disabled-date":t=>e(V)(t,"to",e(a).fromDate)},null,8,["modelValue","disabled-date"])]),_:1})]),n("div",Se,[o(g,{class:"flex-1 mr-10",label:"Amount"},{default:u(()=>[o(S,{placeholder:"From",modelValue:e(a).fromAmount,"onUpdate:modelValue":s[3]||(s[3]=t=>e(a).fromAmount=t),onKeypress:s[4]||(s[4]=t=>e(N)(t,e(a).fromAmount)),onKeyup:s[5]||(s[5]=t=>e(q)(t))},{prefix:u(()=>[Ne]),_:1},8,["modelValue"])]),_:1}),o(g,{class:"flex-1 mt-5",label:" "},{default:u(()=>[o(S,{placeholder:"To",modelValue:e(a).toAmount,"onUpdate:modelValue":s[6]||(s[6]=t=>e(a).toAmount=t),onKeypress:s[7]||(s[7]=t=>e(N)(t,e(a).toAmount)),onKeyup:s[8]||(s[8]=t=>e(q)(t))},{prefix:u(()=>[qe]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["sort-active","list-sort"]),n("div",Ve,[o(ye,{isLoading:e(w),data:e(A),query:e(c),onLimitChange:$,onPageChange:j,onRowClick:I},null,8,["isLoading","data","query"])])])}}});export{$e as default};
