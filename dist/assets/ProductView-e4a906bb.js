import{$ as E,a0 as G,a1 as M,Q as K,N as D,g as U,r as u,J as H,I as J,f as I,z as j,j as x,o as l,c as d,a as i,b as s,w as c,l as o,M as R,G as b,H as w,k,e as S,t as L,u as Q,a2 as O,p as W,m as X}from"./index-fef6ea2a.js";import{B as Y}from"./BaseLoading-07f033c3.js";import{B as Z}from"./BaseButton-a302a840.js";import{I as A}from"./Item-457c4fc6.js";import{_ as ee,a as te}from"./EmptyBlock.vue_vue_type_script_setup_true_lang-85e52124.js";import{_ as oe}from"./_plugin-vue_export-helper-c27b6911.js";import"./formatNumber-0d110035.js";import"./BaseIcon-9a927a34.js";function ae(){const t=E({});return{dataList:t,getAttributeProduct:async _=>{try{const r=G(_,async f=>{const n=await M.getAttribute(f);n&&(t[`${f}`]=n.data)})}catch(r){console.log(r)}}}}var P=(t=>(t.brandProduct="brandProduct",t.colorProduct="colorProduct",t.laptopSeries="laptopSeries",t.hardDiskCapacity="hardDiskCapacity",t.hardDiskConnectionType="hardDiskConnectionType",t.hardDiskType="hardDiskType",t.hardDiskSeries="hardDiskSeries",t.monitorRefreshRate="monitorRefreshRate",t.monitorPanel="monitorPanel",t.monitorResolution="monitorResolution",t.monitorSize="monitorSize",t.ramCapacity="ramCapacity",t.ramSeries="ramSeries",t.cpuSocket="cpuSocket",t.cpuSeries="cpuSeries",t.mouseType="mouseType",t))(P||{});const z=K("product",()=>{const t=D(),v=U(),_=u([]),r=u([]),f=u([]),n=u([]),h=u([]),m=u(!1),y=u({page:0,size:20,total:0});return{brandList:_,colorList:r,laptopSeriesList:f,ramCapacityList:n,listProduct:h,isLoading:m,getProductList:async()=>{try{m.value=!0;const p={...y.value,sort:"desc",order:"productId",categoryId:H(v.listAssetCategory,V=>V.path===t.params.category)[0].id,brandList:_.value,colorList:r.value,laptopSeriesList:f.value,ramCapacityList:n.value},a=await J.getAllProductByCategory(p);a&&(h.value=a.data.content,y.value.total=a.data.totalElements),m.value=!1}catch(p){m.value=!1,console.log(p)}},query:y}}),se={class:"max-w-[20%] flex-[0_0_20%] px-2 py-2"},le={class:"flex flex-col rounded-lg bg-white px-[12px] py-[12px]"},re={class:"price"},ne=i("div",{class:"mb-1 text-sm font-bold"},"Khoảng giá",-1),ce={class:"flex"},ie=i("div",{class:"mr-2 text-description"},"-",-1),de={class:"slider-demo-block"},ue=I({__name:"SideBarFilter",emits:["reload-product"],setup(t,{emit:v}){const _=D(),{dataList:r,getAttributeProduct:f}=ae(),n=z(),h=u([0,1e7]),m=u({priceTo:"",priceFrom:""}),y=u(["1","2","3","4"]);j(async()=>{_.params.category==="laptop"&&await f([P.brandProduct,P.colorProduct,P.laptopSeries,P.ramCapacity])});const g=()=>{n.getProductList(),v("reload-product")};return(p,a)=>{const V=x("el-input"),T=x("el-form-item"),F=x("el-slider"),C=x("el-checkbox"),$=x("el-checkbox-group"),B=x("el-collapse-item"),N=x("el-collapse"),q=x("el-form");return l(),d("div",se,[i("div",le,[s(q,null,{default:c(()=>[i("div",re,[ne,i("div",ce,[s(T,{class:"mr-2",label:""},{default:c(()=>[s(V,{modelValue:o(m).priceFrom,"onUpdate:modelValue":a[0]||(a[0]=e=>o(m).priceFrom=e),clearable:"",placeholder:"0"},null,8,["modelValue"])]),_:1}),ie,s(T,{label:""},{default:c(()=>[s(V,{modelValue:o(m).priceTo,"onUpdate:modelValue":a[1]||(a[1]=e=>o(m).priceTo=e),clearable:"",placeholder:"100000000"},null,8,["modelValue"])]),_:1})]),i("div",de,[s(F,{modelValue:o(h),"onUpdate:modelValue":a[2]||(a[2]=e=>R(h)?h.value=e:null),max:1e4,range:"","show-stops":"",size:"small"},null,8,["modelValue"])])]),i("div",null,[s(N,{modelValue:o(y),"onUpdate:modelValue":a[7]||(a[7]=e=>R(y)?y.value=e:null)},{default:c(()=>[s(B,{name:"1",title:"Thương hiệu"},{default:c(()=>[s($,{modelValue:o(n).brandList,"onUpdate:modelValue":a[3]||(a[3]=e=>o(n).brandList=e),class:"flex flex-wrap justify-between",onChange:g},{default:c(()=>[(l(!0),d(b,null,w(o(r).brandProduct,e=>(l(),k(C,{key:e.name,label:e.value,class:"!mr-2 flex w-[90px] flex-wrap"},{default:c(()=>[S(L(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(B,{name:"2",title:"Màu sắc"},{default:c(()=>[s($,{modelValue:o(n).colorList,"onUpdate:modelValue":a[4]||(a[4]=e=>o(n).colorList=e),onChange:g},{default:c(()=>[(l(!0),d(b,null,w(o(r).colorProduct,e=>(l(),k(C,{key:e.name,label:e.value},{default:c(()=>[S(L(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(B,{name:"3",title:"Laptop Series"},{default:c(()=>[s($,{modelValue:o(n).laptopSeriesList,"onUpdate:modelValue":a[5]||(a[5]=e=>o(n).laptopSeriesList=e),onChange:g},{default:c(()=>[(l(!0),d(b,null,w(o(r).laptopSeries,e=>(l(),k(C,{key:e.name,label:e.value},{default:c(()=>[S(L(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(B,{name:"4",title:"Dung lượng Ram"},{default:c(()=>[s($,{modelValue:o(n).ramCapacityList,"onUpdate:modelValue":a[6]||(a[6]=e=>o(n).ramCapacityList=e),onChange:g},{default:c(()=>[(l(!0),d(b,null,w(o(r).ramCapacity,e=>(l(),k(C,{key:e.name,label:e.value},{default:c(()=>[S(L(e.name),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})])])}}}),pe=t=>(W("data-v-e35997c9"),t=t(),X(),t),me={class:"max-w-[80%] flex-[0_0_80%] px-2 py-2"},_e={class:"w-full rounded-lg bg-white"},fe={class:"flex h-[64px] w-full border-b border-solid border-[#eaeaea] px-4 text-sm"},he={class:"flex items-center"},ye=pe(()=>i("h3",{class:"mr-8 text-sm font-bold"},"Sắp xếp theo",-1)),ve={class:"flex justify-between"},xe={key:0},ge={key:0,class:"flex min-h-fit flex-wrap justify-start bg-white"},be=["onClick"],we={key:1,class:"flex min-h-[65vh] items-center justify-center bg-white"},ke={key:1,class:"flex min-h-[65vh] flex-wrap justify-start bg-white"},Se=I({__name:"ProductList",setup(t){const v=D(),_=Q();U();const r=z();u(!1),u([]);const f=u([{name:"Khuyến mãi tốt nhất",value:"big_promotion"},{name:"Giá tăng dần",value:"price_asc"},{name:"Giá giảm dần",value:"price_desc"}]);j(async()=>{await r.getProductList()});const n=h=>{_.push({name:"ProductDetailView",params:{detail:h.productId}})};return O(()=>v.params.category,()=>{v.params.category&&r.getProductList()}),(h,m)=>{const y=Z,g=Y;return l(),d("div",me,[i("div",_e,[i("div",fe,[i("div",he,[ye,i("div",ve,[(l(!0),d(b,null,w(o(f),p=>(l(),k(y,{key:p.value,class:"mr-4",size:"medium",type:"plain"},{default:c(()=>[S(L(p.name),1)]),_:2},1024))),128))])])]),o(r).isLoading?(l(),d("div",ke,[s(g,{class:"flex w-full items-center justify-center",tip:""})])):(l(),d("div",xe,[o(r).listProduct.length?(l(),d("div",ge,[(l(!0),d(b,null,w(o(r).listProduct,p=>(l(),d("div",{key:p.id,class:"h-fit w-[25%] border-b border-r border-l border-solid border-[#eaeaea]",onClick:a=>n(p)},[s(A,{"data-item":p},null,8,["data-item"])],8,be))),128)),s(ee,{query:o(r).query,class:"w-full !px-4",label:"sản phẩm"},null,8,["query"])])):(l(),d("div",we,[s(te,{show:!o(r).listProduct.length,class:"flex flex-col items-center"},null,8,["show"])]))]))])])}}});const Le=oe(Se,[["__scopeId","data-v-e35997c9"]]),Pe={class:"m-auto w-full max-w-[1232px] px-4 py-4"},Ve={class:"flex flex-row"},je=I({__name:"ProductView",setup(t){return(v,_)=>(l(),d("div",null,[i("div",null,[i("div",Pe,[i("div",Ve,[s(ue),s(Le)])])])]))}});export{je as default};
